# Monoco Toolkit Guidance

æœ¬ç›®å½•æ˜¯ Monoco Toolkit çš„å·¥ç¨‹æ ¸å¿ƒã€‚

## ğŸ§  å¼€å‘åŸåˆ™ (Principles)

### 1. Issue å½’å± (Issue Ownership)

- **å·¥ç¨‹éš”ç¦»**: æ‰€æœ‰æ¶‰åŠ Toolkit ä»£ç å®ç°çš„ Fix, Feature, Chore å¿…é¡»å­˜æ”¾åœ¨ `Toolkit/Issues/`ã€‚
- **å…³è”å¼•ç”¨**: è‹¥æŸä¸ªä»»åŠ¡æ˜¯æ ¹ç›®å½• Epic çš„å­ä»»åŠ¡ï¼Œè¯·åœ¨ Frontmatter ä¸­ä½¿ç”¨ `parent: root::EPIC-XXXX` è¿›è¡Œå…³è”ã€‚

### 2. å¼€å‘ä¸è¿è¡Œ (Development & Runtime)

- **ä¸¥ç¦ä½¿ç”¨å…¨å±€å·¥å…·**: åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œ**ç¦æ­¢**è¿è¡Œå…¨å±€å®‰è£…çš„ `monoco` å‘½ä»¤æµ‹è¯•ä»£ç ã€‚
- **è™šæ‹Ÿç¯å¢ƒä¼˜å…ˆ**: å¿…é¡»ä½¿ç”¨ `uv run monoco` æ¥è¿è¡Œå½“å‰ç›®å½•ä¸‹çš„æºä»£ç ã€‚
- **ç¯å¢ƒåˆ‡æ¢**: ä¿®æ”¹ä»£ç åï¼Œåº”ç«‹å³åœ¨ `Toolkit/` ç›®å½•ä¸‹è¿è¡Œ `uv run monoco issue lint` éªŒè¯é€»è¾‘ã€‚

### 3. å·¥ç¨‹æµ (Engineering Workflow)

é‡‡ç”¨ **ä¸»å¹²å¼€å‘ (Trunk Based Development)** æ¨¡å¼ã€‚

- **åˆ†æ”¯ç­–ç•¥**:
  - **Main**: å”¯ä¸€çœŸç†æº (Source of Truth)ã€‚
  - **Feature**: çŸ­å‘½åˆ†æ”¯ (`feat/ID`, `fix/ID`)ï¼Œå®Œæˆå Squash Merge å¹¶åˆ é™¤ã€‚
- **å‘å¸ƒç­–ç•¥**:
  - **Trigger**: ä»…é€šè¿‡ Git Tag (`v*`) è§¦å‘å‘å¸ƒæµæ°´çº¿ã€‚
  - **Constraint**: ä¸¥ç¦ç»´æŠ¤é•¿å‘¨æœŸçš„ `release` åˆ†æ”¯ã€‚

## Issue ç®¡ç† (Agent æŒ‡å¼•)

ä½¿ç”¨ `monoco issue` å­å‘½ä»¤è¿›è¡Œç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚

- **åˆ›å»º**: `monoco issue create <type> -t "æ ‡é¢˜"`
- **çŠ¶æ€**: `monoco issue open|close|backlog <id>`
- **æ£€æŸ¥**: `monoco issue lint` (æ‰‹åŠ¨ç¼–è¾‘åå¿…é¡»è¿è¡Œ)
- **ç”Ÿå‘½å‘¨æœŸ**: `monoco issue start|submit|delete <id>`
- **ä¸Šä¸‹æ–‡åŒæ­¥**: `monoco issue sync-files [id]`
- **ç‰©ç†ç»“æ„**: `Issues/{FormattedType}/{status}/`

### å¼ºåˆ¶è§„åˆ™ (Hard Rules)

1. **å…ˆæœ‰ Issueï¼Œåæœ‰ Draft**: å¼€å§‹ä»»ä½•è°ƒç ”ã€è®¾è®¡æˆ– Draft é˜¶æ®µä¹‹å‰ï¼Œå¿…é¡»ä½¿ç”¨ `monoco issue create` åˆ›å»º Issueã€‚ç¦æ­¢åœ¨æ²¡æœ‰ Issue çš„æƒ…å†µä¸‹å¼€å±•å·¥ä½œã€‚
2. **åˆ†æ”¯éš”ç¦» (Build é˜¶æ®µ)**: è¿›è¡Œä»£ç æ„å»ºæˆ–ä¿®æ”¹æ—¶ï¼Œ**å¿…é¡»**ä½¿ç”¨ `monoco issue start --branch` åˆ›å»ºç‰¹æœ‰çš„ Git åˆ†æ”¯ã€‚ç¦æ­¢åœ¨ `main` åˆ†æ”¯ç›´æ¥æäº¤ã€‚
3. **ç¯å¢ƒæ¸…ç†æ—¶æœº**: ç¯å¢ƒæ¸…ç†ï¼ˆåˆ†æ”¯/Worktree åˆ é™¤ï¼‰**ä»…**åº”åœ¨ `monoco issue close --prune` æ—¶æ‰§è¡Œã€‚**ç¦æ­¢**åœ¨ `submit` é˜¶æ®µæ¸…ç†ç¯å¢ƒï¼Œå› ä¸º Review è¿‡ç¨‹å¯èƒ½éœ€è¦è¿›ä¸€æ­¥ä¿®æ”¹ã€‚
4. **æ ‡é¢˜å¯¹é½**: å¿…é¡»åŒ…å« `## {ID}: {Title}` æ ‡é¢˜ï¼Œä¸”ä¸ Frontmatter ä¸€è‡´ã€‚
5. **ä»»åŠ¡é¢—ç²’åº¦**: è‡³å°‘åŒ…å« 2 ä¸ªä»»åŠ¡é¡¹ï¼Œä½¿ç”¨ `- [ ]` è¯­æ³•ã€‚
6. **è¯„å®¡ä¹‰åŠ¡**: è¿›å…¥ `review` æˆ– `done` é˜¶æ®µæ—¶ï¼Œå¿…é¡»åŒ…å« `## Review Comments` ç« èŠ‚ã€‚

## Spike (ç ”ç©¶)

ç®¡ç†å¤–éƒ¨å‚è€ƒä»“åº“ï¼Œç”¨äºå­¦ä¹ æˆç†Ÿæ¶æ„æˆ–åº“çš„ä½¿ç”¨ã€‚

- **æ·»åŠ **: `monoco spike add <url>`
- **åŒæ­¥**: `monoco spike sync`
- **è¯»å–**: å‚è€ƒä»£ç å­˜æ”¾åœ¨ `.reference/` ç›®å½•ä¸‹ï¼Œä»…ä¾›åªè¯»ã€‚

## æ–‡æ¡£å›½é™…åŒ– (I18n)

ç¡®ä¿ Toolkit åŠå…¶æ–‡æ¡£æ”¯æŒå¤šè¯­è¨€åä½œã€‚

- **æ‰«æ**: `monoco i18n scan`
- **ç¿»è¯‘**: éµå¾ª `folder/zh/file.md` çš„å±‚çº§ç»“æ„ã€‚
